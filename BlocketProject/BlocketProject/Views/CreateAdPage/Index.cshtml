@model BlocketProject.Models.ViewModels.CreateAdsPageViewModel
<!DOCTYPE html>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2>@Html.PropertyFor(x => x.Heading)</h2>

<div class="createEvent">
    @using (Html.BeginForm("CreateAd", "CreateAdPage", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div>

            @Html.TextBox("email", Model.EmailLabel, new { id = "email", @class = "textfield mail", @onclick = "textfieldpressed(id)", @onblur = "textfieldblur(id); emailkoll()", @onkeypress = "change(id)" })

            @Html.TextBox("phone", Model.Phonelabel, new { id = "phone", @class = "textfield phone", @onclick = "textfieldpressed(id)", @onblur = "textfieldblur(id); emaikoll()", @onkeypress = "change(id)" })
            <br />
            <h3>Typ av gäster och typ av fest?</h3>
            @Html.DropDownList("gender", new SelectList(Model.Genders, "Key", "Value"), new { placeholder = "", @class = "textfield" })
            @Html.DropDownList("category", new SelectList(Model.Category, "Key", "Value"), new { placeholder = "", @class = "textfield" })

            <br />
            <h3>Skriv lite om din fest</h3>
            @Html.TextBox("title", Model.TitleLabel, new { id = "title", @class = "textfield", @onfocus = "this.style.background = '#fff'", @onclick = "textfieldpressed(id)", @onblur = "textfieldblur(id), this.style.background = '#ECF7FB'", @onkeypress = "change(id)" })

            @Html.TextBox("price", Model.PriceLabel, new { id = "price", @class = "textfield", @onfocus = "this.style.background = '#fff'", @onclick = "textfieldpressed(id)", @onblur = "textfieldblur(id), this.style.background = '#ECF7FB'", @onkeypress = "change(id)" })
            <br />
            @Html.TextArea("text", new { id = "text", @class = "textarea", @onfocus = "this.style.background = '#fff', this.value = ''", @onclick = "textareapressed()", placeholder = "Text", @onblur = "textareablur(), this.style.background = '#ECF7FB'" })

            <br />
            <form id="form1" runat="server">
                <input type='file' id="imgInp" />

                <img id="imagefile" src="#" alt="your image" />
            </form>
        </div>
        <br />
        <input type="submit" class="button" value="Ladda upp evenemang" />
        <script type="text/javascript">

            $(document).ready(function () {
                $('#price').hide();

                $("#category").change(function () {
                   var value = $('#category :selected').text();
                   if (value == "Lokalfest") {
                       $('#price').show();
                   }
                   else {

                       $('#price').hide();
                   }
                      
                });
            });

            function readURL(input) {

                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#imagefile').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            $("#imgInp").change(function () {
                readURL(this);
            });

        </script>

    }
</div>
